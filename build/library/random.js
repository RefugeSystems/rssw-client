
/**
 * 
 * @class Random
 * @constructor
 * @module Library
 */
var Random = (function() {
	/**
	 * Provides a suite of functions for generating random data.
	 * @class Random
	 * @constructor
	 * @static
	 */
	var random = {};

	/**
	 * Quick reference array for generating random strings
	 * @private
	 * @property alphanumeric
	 * @type String[]
	 */
	var alphanumeric = ["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];

	/**
	 * 
	 * @type Number[]
	 * @property primes
	 * @private
	 */
	var primes = [
		3783881093,
		2494927111,
		3766780621,
		3541804571,
		2343263609,
		4271224597,
		3115287881,
		4109045791,
		2158664831,
		3510296173,
		2689904369,
		4180297687,
		2268261277,
		2756095609,
		4115152771,
		2556163361,
		2952835597,
		3403327397,
		2712149633,
		3410404919,
		2924574931,
		3333008281,
		3690651493,
		3013192673,
		2969385701,
		2955295307,
		3032492779,
		3960590021,
		2805715459,
		3337902781,
		3804572227,
		2335034021,
		2582267587,
		2958945247,
		2592830183,
		2209475663,
		4220530351,
		3318365971,
		2544051259,
		2891718733,
		3610193693,
		2275489487,
		3198025421,
		2554533937,
		2799440671,
		3941695391,
		3716801377,
		2223869371,
		3718018879,
		2367159497,
		2261889571,
		2173486571,
		2332243241,
		2523367733,
		3107453347,
		3668697443,
		2562403769,
		2669349601,
		2535796871,
		3440330161,
		3112117651,
		3762603979,
		2509589527,
		3716623871,
		3729575831,
		4054188389,
		3097853243,
		3369911407,
		2875713103,
		4274731649,
		2854955317,
		3145160819,
		2246898299,
		3954365759,
		3295914001,
		2684605381,
		3693555841,
		3650616239,
		2211501107,
		3078399943,
		2244643231,
		4100529919,
		2157781709,
		3817996913,
		4206605927,
		3988859983,
		3723993373,
		2626983451,
		2715342403,
		3304261111,
		3297724823,
		2403262133,
		3400846997,
		4076091827,
		3188032261,
		4113980441,
		2635716373,
		4282879231,
		4024231091,
		2734901357,
		3848282357,
		2343371761,
		3861478421,
		3094594411,
		3584208359,
		2521299983,
		4135096649,
		2181191147,
		3250000627,
		2755071229,
		2397283117,
		3167566291,
		2338468343,
		3778014049,
		3677737991,
		3660024631,
		3626171453,
		2841047369,
		3615991003,
		2382238171,
		3544041307,
		2726901493,
		2388193879,
		2934065117,
		2862570967,
		2593735427,
		4122857171,
		3058009223,
		2591770039,
		2316734417,
		4123111151,
		2513447917,
		2242575389,
		2197495919,
		3853997897,
		2510969261,
		3253227889,
		3692284903,
		3865489847,
		2383751047,
		2488156337,
		3873266141,
		3544654277,
		3625994027,
		2913627499,
		2661154543,
		4110965843,
		3643082581,
		4238440463,
		2863518739,
		2949103403,
		3389217451,
		3041546567,
		2419782623,
		3891771943,
		2564109811,
		4281939983,
		3559251221,
		2245329017,
		2970530413,
		3207807919,
		2972622463,
		3156414299,
		3515488313,
		3436713961,
		3316565117,
		4230025159,
		3140333657,
		2611977983,
		3308432093,
		2391417547,
		4111766567,
		3171855587,
		3159191071,
		4019705623,
		3810990977,
		3512840249,
		4043486719,
		3437598947,
		3540666317,
		2404588631,
		3878130583,
		2848970191,
		2278644259,
		2325115813,
		2490937483,
		2710971299,
		3071114833,
		2776646969,
		3968213233,
		2733563641,
		2201396167,
		4090557853,
		4172529733,
		2253518987,
		2502059101,
		2396799073,
		2566442759,
		2409476549,
		2585532343,
		2873871547,
		3337321601,
		2447048651,
		4082517793,
		3719910043,
		2256504661,
		3718573631,
		3233968043,
		3091106507,
		2763521843,
		3359122969,
		3697818899,
		3981142987,
		2336761411,
		3651186943,
		2397556519,
		2253684529,
		3986755247,
		3237646897,
		2301050201,
		3354543743,
		3202509917,
		2855451293,
		3864007759,
		2882362411,
		2582305777,
		2408324077,
		2939177531,
		3269663893,
		3185267963,
		2189994007,
		3412026161,
		3656187629,
		3518975491,
		2804956223,
		4112152271,
		3878797051,
		4126810447,
		3523563629,
		3368365699,
		3700987519,
		4155691753,
		2369120947,
		3526481653,
		2545380517,
		4066510001,
		3475572671,
		4161363919,
		2353023151,
		3868622249,
		3184314583,
		3919560607,
		3640063319,
		2246423479,
		4070314307,
		3788495857,
		2771631293,
		3886017203,
		3606471917,
		3427204771,
		4079644421,
		3210342131,
		2677707433,
		2878049497,
		3828492581,
		3074520721,
		2846942639,
		2268827159,
		3499747631,
		3388725187,
		4041428929,
		2832352723,
		2157096863,
		2527990481,
		3102697513,
		4193335793,
		3524806009,
		3881066741,
		3371138371,
		3936293953,
		4046195731,
		3844391399,
		4230781439,
		4263473359,
		3413939567,
		2389728347,
		3935645261,
		3541758281,
		2357164127,
		3607577723,
		3906118057,
		4023074401,
		3820879687,
		3508017251,
		3706884451,
		2261954837,
		3621913921,
		4006473641,
		2830227629,
		2837284771,
		3862799249,
		3534710689,
		2671212017,
		2535161471,
		4144816391,
		3264360941,
		3055363429,
		2195038073,
		3579840617,
		3537196457,
		2928647899,
		3228724231,
		2722891447,
		3390555881,
		4062387661,
		3049201031,
		4205066759,
		2409822707,
		3875496167,
		3475214117,
		3082679291,
		2896532959,
		2813041279,
		3793762151,
		3323784103,
		2850910141,
		4196521363,
		3238021411,
		3203177057,
		2821837439,
		3627146629,
		3871123639,
		3745652809,
		2538919573,
		2191068337,
		4135184017,
		2371731977,
		3487488041,
		3522720307,
		4074553823,
		3790417193,
		2177423533,
		3927130111,
		2778190313,
		2482810229,
		3053366453,
		3914563687,
		4092365813,
		4280733013,
		2662529689,
		4049483693,
		2315984263,
		2510664953,
		3452670203,
		2739824179,
		2365667693,
		2756335321,
		3398927531,
		2320401241,
		3632268427,
		3646501787,
		3461787559,
		3311763101,
		2886453161,
		2900929679,
		2999230901,
		2586262331,
		2325388657,
		3996115021,
		4177698593,
		2367748021,
		3497286293,
		2749707391,
		2241775849,
		3195883357,
		2516092009,
		2334444661,
		4069929517,
		3781541887,
		2380893289,
		3602484461,
		3941515003,
		3001709653,
		2192490247,
		2526824921,
		4192171391,
		2650683533,
		3959395669,
		2745123529,
		3937366309,
		3312535841,
		3878453549,
		2345982137,
		2380216913,
		4145800231,
		3530863669,
		3041828833,
		4037009633,
		2320981087,
		3363512213,
		3162684617,
		2748444329,
		2360250989,
		2750433239,
		3489615071,
		4077069757,
		3424013011,
		2371777987,
		4288860689,
		2436312583,
		3650256223,
		2319019411,
		2719513759,
		2202840121,
		2972326873,
		2641301231,
		3813742789,
		2770076357,
		2679191369,
		2366559709,
		2304339179,
		4224850783,
		3209488943,
		4078456391,
		2969029237,
		3268851527,
		3340347181,
		4182275917,
		3481478131,
		2491954807,
		4213310053,
		2318134921,
		2369087527,
		3289685513,
		3793818883,
		2348954533,
		2806266877,
		2726255263,
		3821479471,
		2184811753,
		4104066049,
		2562896771,
		2300237971,
		3210463747,
		2550802867,
		3062256833,
		3521517749,
		3047451817,
		3517798607,
		2278515047,
		3134396999,
		3595264709,
		3910901321,
		2621467969,
		3536448767,
		3547116641,
		3448108441,
		3137147179,
		2301667183,
		3380663191,
		3674654897,
		3253487953,
		3475067201,
		2192777729,
		3726743117,
		4114883263,
		2302843603,
		2341109609,
		3679140721,
		3570597623,
		3669530119,
		3594876877,
		3476949043,
		2653677659,
		4196402261,
		3291824363,
		2382366583,
		2847922919,
		3102321749,
		3641824237,
		3505520477,
		2156154887,
		3909250259,
		2636466991,
		2149626781,
		2369187053,
		4264542749,
		2603671717,
		3917164883,
		4154070101,
		2356440869,
		2879125181,
		2364629419,
		4240278043,
		2917571197,
		2619410327,
		3826830269,
		2732154947,
		2297901833,
		2179174747,
		4102073629,
		2342116277,
		3261719387,
		2943337237,
		2793011581,
		3617794879,
		4003125221,
		2753966461,
		4009338269,
		2159995589,
		3157206461,
		2882375623,
		2294288881,
		2835254491,
		2274319981,
		3093650881,
		3630723073,
		3665248469,
		3935088067,
		3516639943,
		3503179717,
		2939219779,
		4269909719,
		3334734049,
		2462323207,
		3382808321,
		2518572281,
		3054336029,
		3010697717,
		2592464141,
		3446776019,
		2602272347,
		2351390803,
		3176639519,
		3190893487,
		2722271953,
		4003946173,
		2542684217,
		2820376453,
		2391402619,
		2967073679,
		3511669823,
		2449985633,
		2919933997,
		2262720461,
		4118345219,
		2298856123,
		3802043537,
		3483835463,
		3273612359,
		3784663867,
		3466375477,
		2591307583,
		2263159687,
		3577462879,
		2839419241,
		2769522103,
		3192785161,
		3721645099,
		2242129433,
		2726106571,
		2606882513,
		2896590637,
		3112378487,
		3702994657,
		2816873009,
		3134443223,
		4169136163,
		2996356609,
		4279209307,
		2937037871,
		2915811413,
		2700438583,
		3813616231,
		2410757851,
		2850468739,
		4053269663,
		2675206159,
		3968645167,
		2444856917,
		2263288427,
		3804958727,
		3361780091,
		2946463337,
		2290225981,
		2560247293,
		2210876279,
		2641250383,
		3621198731,
		3461402773,
		3987150989,
		2335173223,
		3269497981,
		3710829631,
		3229309403,
		2230883747,
		3946978493,
		3455830999,
		3072734293,
		4208706193,
		3499682569,
		3652135303,
		2377476221,
		3643762433,
		2987786377,
		4080224353,
		2960618117,
		2187688007,
		3552279697,
		2307007447,
		3505360193,
		3291729191,
		2306962607,
		3749202901,
		2498939593,
		3443368421,
		2183122673,
		3449507029,
		2223702991,
		2893214281,
		4072372169,
		3463328591,
		2804394311,
		2943422051,
		3217219169,
		2326305743,
		2565365291,
		3584079203,
		2327043353,
		2870470177,
		3939700081,
		3356310743,
		3345817627,
		3033963841,
		3011930153,
		3964461197,
		2302569193,
		3047628629,
		2818709921,
		2950336033,
		3162903071,
		4191963551,
		4215784231,
		3179941907,
		2889811207,
		3939168619,
		2457232997,
		3854642003,
		2603139989,
		4054536383,
		2578958693,
		3537749653,
		3833283781,
		2169426911,
		3688785277,
		4262969551,
		3297399529,
		2919101623,
		2894075867,
		3366971791,
		2411824691,
		4284305453,
		2965173719,
		3299927941,
		2222643329,
		2477452097,
		4265402263,
		3538169639,
		3227177641,
		3896682341,
		2449936543,
		3167618731,
		2662922291,
		3434045983,
		2841581251,
		3167420129,
		3098247067,
		3176063833,
		3148918631,
		3090832903,
		2169792137,
		2584415221,
		3450210347,
		3356297837,
		2481539909,
		3384110657,
		4097421761,
		2560687837,
		3326749199,
		4168606531,
		3755231329,
		4091376769,
		2521145047,
		2790347801,
		3952907407,
		2540744021,
		3143475061,
		3436738973,
		3741015853,
		3036553189,
		2370968521,
		3267243349,
		3792036593,
		2475110641,
		2316656879,
		2945997521,
		3984388151,
		2463362789,
		4102154209,
		3213682163,
		2548204181,
		3500913593,
		2997416977,
		3690398051,
		4099544987,
		2496910979,
		2270641831,
		2158212499,
		3864603649,
		3383056207,
		3340425437,
		2830722823,
		2741218841,
		3132554489,
		3934324619,
		2481012109,
		2476697803,
		3390560791,
		3398170043,
		2678105921,
		4119704753,
		2341155749,
		2919869047,
		3779482561,
		3076317191,
		2421438281,
		3872873321,
		3999908137,
		2440995883,
		3852098479,
		3396921431,
		3056663411,
		3069838283,
		2911851121,
		4276445209,
		2267013901,
		2683364689,
		3674816567,
		2151533477,
		2421022847,
		2254240159,
		2537611501,
		3304967213,
		2580575339,
		2329298453,
		2300008313,
		4259011811,
		2227865609,
		3720870887,
		3928099991,
		3213163873,
		3278501651,
		3113990569,
		3526852279,
		3630661313,
		4095991069,
		4277584271,
		2571168713,
		4242427829,
		4259641129,
		2598394399,
		3821577847,
		3093897077,
		3285135253,
		4069752679,
		3013946471,
		2763861031,
		2351351647,
		2260249237,
		3810548233,
		4165872833,
		2410168141,
		3268101439,
		3261117929,
		3734761237,
		4118161219,
		2174761553,
		2481429289,
		2858839409,
		3232480289,
		3355131001,
		2579843261,
		3067519579,
		3610482409,
		2731417459,
		2555787323,
		4168154807,
		2550792143,
		3815858339,
		4142389997,
		3564359303,
		3920399689,
		4233732691,
		2237222921,
		2234522351,
		3233013083,
		3686293109,
		2930911343,
		3580313707,
		2486636521,
		3819527507,
		3719616347,
		3971621881,
		2578437649,
		2586025081,
		3220446247,
		2170994873,
		4039632419,
		3028966349,
		2299752841,
		3868836989,
		3673549843,
		2543463053,
		2875140199,
		3903273653,
		2885018491,
		3122490299,
		3041680463,
		2670610127,
		2509634629,
		3169500923,
		4144414333,
		3465131249,
		3470104663,
		3891648919,
		3669078121,
		3682309979,
		4242361243,
		3356553181,
		2999059909,
		3526272467,
		3892812433,
		3659833519,
		3062977739,
		4145659303,
		3418164979,
		3458648287,
		3831805447,
		2729624327,
		3901700029,
		2693080417,
		2331410407,
		3637111823,
		3682450693,
		2216229577,
		3564791291,
		2288889391,
		2402836853,
		3862167527,
		2640389743,
		2488116523,
		3147019483,
		3752504051,
		3666479249,
		3616056883,
		2280353617,
		3080008957,
		2657321003,
		2174622641,
		3530787413,
		4226500147,
		3702695197,
		4172017189,
		4172793479,
		2733328331,
		3501004519,
		2676516709,
		2409017047,
		2233864517,
		2263675787,
		2824546597,
		2953325909,
		3379641703,
		2873441027,
		3156796183,
		3369879889,
		2677058911,
		3543067093,
		3172749469,
		3795787781,
		2575960477,
		3884686181,
		2394621947,
		4263694663,
		4225583377,
		2570456143,
		2535105851,
		2275183753,
		2639770403,
		4066533893,
		2518750811,
		2330200429,
		2569043669,
		2656963849,
		3166256503,
		3688627993,
		2319116357,
		3702205883,
		3525610391,
		4050384647,
		2166151327,
		2517321311,
		2640019661,
		3327187601,
		2187506527,
		3417770893,
		3252640367,
		3066165727,
		3939084661,
		2906266547,
		3260431297,
		3757097713,
		3038191391,
		3895685567,
		2705828597,
		3059535481,
		3836117839,
		2835118709,
		3627978553,
		3163082147,
		2460206873,
		2402418373,
		3910068821,
		2584358747,
		3590716279,
		2166974531,
		2774318563,
		3657704081,
		2919192923,
		3446928539,
		3618814663,
		3792850387,
		3647811929,
		3343117009,
		3291092251,
		2905296109,
		2344310809,
		3245605939,
		2826644641,
		3786516763,
		2181490981,
		2662761811,
		3953720153,
		3943201057,
		3850379411,
		2961062177,
		4226340323,
		3729590177,
		4020396077,
		2719895303,
		3692706103,
		3154256689,
		3887770559,
		3483766193,
		2554831579,
		3701978767,
		2638395589,
		2922952051,
		4141489519,
		2342502703,
		3884692979,
		3100486567,
		2691715993,
		4116155191,
		4015136129,
		2988422399,
		2161794961,
		4026107521,
		3854970793,
		3026255329,
		4029504161,
		2215667249,
		2764765049,
		2414787839,
		3318724589,
		2579541409,
		3136547747,
		2496823961,
		3603738769,
		2324061163,
		3342006823,
		3280513177,
		4111968067,
		2373654337,
		3060593183,
		4251524551,
		3166580903,
		3405999323,
		3391483201,
		3688284643];

	/**
	 * Method for getting a random floating point number x | min <= x < min + range
	 * As an example, random(5) will yield a number between 0 and 5 where as
	 * random(5,5) will yield a number between 5 and 10.
	 * @method number
	 * @param {Number} range The "width" of the range of numbers desired.
	 * @param {Number} min The minimum number desired.
	 * @return {Number} A random number.
	 */
	random.number = function(range, min) {
		if(min) {
			return Math.random() * range + min;
		}
		return Math.random() * range;
	};

	/**
	 * Method for getting a random integer x | min <= x < min + range
	 * As an example, random(5) will yield a number between 0 and 4 where as
	 * random(5,5) will yield a number between 5 and 9.
	 * @method integer
	 * @param {Number} range The "width" of the range of numbers desired.
	 * @param {Number} min The minimum number desired.
	 * @return {Number} A random number.
	 */
	random.integer = function(range, min) {
		if(min) {
			return Math.floor(Math.random() * range + min);
		}
		return Math.floor(Math.random() * range);
	};

	/**
	 * Get a random alphanumeric string (ie. matches pattern ^[a-zA-Z0-9]*$).
	 * @method string
	 * @param {Number} len The desired length for the returned String.
	 * @return {String} A random alphanumeric string
	 */
	random.string = function(len) {
		if(len) {
			var x, string = [];
			for(x=0; x<len; x++) {
				string[x] = alphanumeric[this.integer(alphanumeric.length)];
			}
			return string.join("");
		} else {
			return null;
		}
	};

	/**
	 * Returns a prime number from a pre-generated list.
	 * 
	 * This should not be considered for security generation purposes.
	 * @method prime
	 * @return {Number} A random prime number.
	 */
	random.prime = function() {
		return primes[random.integer(primes.length)];
	};

	/**
	 * Create a unique identifier following a pattern;
	 * [prefix] : [string.length = pre] [Timestamp] [length? string.len = remaining]
	 * 
	 * Example:  
	 * Random.identified('example', 2, 3)  
	 *  > "example:Ha1527351401496iUo"
	 * 
	 * @method identified
	 * @param {String} prefix The string to prefix the identifier with before the colon (':').
	 * 		Defaults to 'id'.
	 * @param {Number} pre Length of the randomly generate string before the timestamp.
	 * 		Defaults to 10.
	 * @param {Number} length The total desired length of the randomized section of the identifier.
	 * 		Fills in after the time stamp if additional length is needed. 
	 * 
	 */
	random.identifier = function(prefix, pre, length) {
		if(prefix === undefined) {
			prefix = "id";
		}
		if(pre === undefined) {
			pre = 10;
		}
		
		var id = random.string(pre) + Date.now();
		if(length) {
			id += random.string(length - id.length);
		}
		
		return prefix + ":" + id;
	};
	
	return random;
})();
